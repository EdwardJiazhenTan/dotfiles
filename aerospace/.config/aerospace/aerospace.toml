
after-login-command = []
after-startup-command = ['exec-and-forget sketchybar']
# Exec commands on workspace change (async to prevent blocking/freezing)
exec-on-workspace-change = ['/bin/bash', '-c',
    'sketchybar --trigger aerospace_workspace_change &'
]

# Start AeroSpace at login
start-at-login = true

# Normalizations. See: https://nikitabobko.github.io/AeroSpace/guide#normalization
enable-normalization-flatten-containers = true
enable-normalization-opposite-orientation-for-nested-containers = true

# See: https://nikitabobko.github.io/AeroSpace/guide#layouts
# The 'accordion-padding' specifies the size of accordion padding
accordion-padding = 20
default-root-container-layout = 'tiles'
default-root-container-orientation = 'auto'
key-mapping.preset = 'qwerty'

# PERFORMANCE: These mouse movement hooks can cause system freezes - disabled
# on-focused-monitor-changed = ['move-mouse monitor-lazy-center']
# on-focus-changed = ['move-mouse window-lazy-center']

# Assign workspaces to monitors (P, M, X to retina display by default)
[workspace-to-monitor-force-assignment]
P = 'Built-in Retina Display'
M = 'Built-in Retina Display'
X = 'Built-in Retina Display'
A = 'Built-in Retina Display'

# Gaps between windows (inner-*) and between monitor edges (outer-*).
# Possible values:
# - Constant:     gaps.outer.top = 8
# - Per monitor:  gaps.outer.top = [{ monitor.main = 16 }, { monitor."some-pattern" = 32 }, 24]
#                 In this example, 24 is a default value when there is no match.
#                 Monitor pattern is the same as for 'workspace-to-monitor-force-assignment'.
#                 See: https://nikitabobko.github.io/AeroSpace/guide#assign-workspaces-to-monitors
[gaps]
inner.horizontal = 10
inner.vertical =   10
outer.left =       10
outer.bottom =     10
outer.top =        [{ monitor.'^AW2724DM$' = 35 }, 5]  # 40 for external, 5 for others
outer.right =      10

# 'main' binding mode declaration
# See: https://nikitabobko.github.io/AeroSpace/guide#binding-modes
# 'main' binding mode must be always presented
[mode.main.binding]
ctrl-left = 'workspace prev'
ctrl-right = 'workspace next'

# Layout switching
alt-slash = 'layout tiles horizontal vertical'
alt-comma = 'layout accordion horizontal vertical'
cmd-alt-shift-ctrl-space = 'layout tiles accordion'

# Move between windows seamlessly across monitors (hyper + hjkl)
cmd-alt-shift-ctrl-h = 'focus --boundaries all-monitors-outer-frame --boundaries-action wrap-around-all-monitors left'
cmd-alt-shift-ctrl-j = 'focus --boundaries all-monitors-outer-frame --boundaries-action wrap-around-all-monitors down'
cmd-alt-shift-ctrl-k = 'focus --boundaries all-monitors-outer-frame --boundaries-action wrap-around-all-monitors up'
cmd-alt-shift-ctrl-l = 'focus --boundaries all-monitors-outer-frame --boundaries-action wrap-around-all-monitors right'

# Join windows for hybrid tiling (alt + hjkl)
alt-h = 'join-with left'
alt-j = 'join-with down'
alt-k = 'join-with up'
alt-l = 'join-with right'

# Toggle floating
alt-f = 'layout floating tiling'

# Quick layout switching
alt-t = 'layout tiling'
alt-a = 'layout accordion'

# Window resizing
cmd-shift-minus = 'resize smart -50'
cmd-shift-equal = 'resize smart +50'

# Enter resize mode (hyper + r)
cmd-alt-shift-ctrl-r = 'mode resize'

# Workspace navigation (letter-based)
# T=Terminal, A=AI, M=Media, W=Work, B=Browser, C=Coding, X=Extra, P=Productivity, S=Social, G=Gaming
cmd-alt-shift-ctrl-t = 'workspace T'
cmd-alt-shift-ctrl-a = 'workspace A'
cmd-alt-shift-ctrl-m = 'workspace M'
cmd-alt-shift-ctrl-w = 'workspace W'
cmd-alt-shift-ctrl-b = 'workspace B'
cmd-alt-shift-ctrl-c = 'workspace C'
cmd-alt-shift-ctrl-x = 'workspace X'
cmd-alt-shift-ctrl-p = 'workspace P'
cmd-alt-shift-ctrl-s = 'workspace S'
cmd-alt-shift-ctrl-g = 'workspace G'
cmd-alt-shift-ctrl-v = 'workspace V'

# Move window to workspace (use resize mode: Hyper+R then letter)

# Additional useful bindings
# Toggle fullscreen
cmd-f = 'fullscreen'

# Close window
cmd-shift-q = 'close'

# Reload config
cmd-shift-r = 'reload-config'

# Workspace back and forth
cmd-tab = 'workspace-back-and-forth'

# Move workspace to specific monitors
cmd-alt-shift-ctrl-i = 'move-workspace-to-monitor AW2724DM'
cmd-alt-shift-ctrl-o = "move-workspace-to-monitor 'Built-in Retina Display'"


# Move workspace to next monitor (cycle through monitors)
cmd-shift-tab = 'move-workspace-to-monitor --wrap-around next'

# open kitty terminal (direct exec for better performance)
cmd-t = 'exec-and-forget /Applications/kitty.app/Contents/MacOS/kitty --single-instance -d ~'
cmd-b = 'exec-and-forget /Applications/Zen.app/Contents/MacOS/zen'

# Resize mode - Use hyper+r to enter, hjkl to resize, workspace letters to move window
[mode.resize.binding]
# Directional window resizing
# Note: Due to AeroSpace's window-centric resize model, h/l behavior depends on which window is focused
# This is a limitation - there's no built-in "move divider" command
# Using smart resize as the best compromise
h = 'resize smart -50'
l = 'resize smart +50'
j = 'resize smart +50'
k = 'resize smart -50'

# Alternative: extra large resize
shift-h = 'resize smart -100'
shift-l = 'resize smart +100'
shift-j = 'resize smart +100'
shift-k = 'resize smart -100'

# Move window to workspace (and follow)
t = ['move-node-to-workspace T', 'workspace T', 'mode main']
a = ['move-node-to-workspace A', 'workspace A', 'mode main']
m = ['move-node-to-workspace M', 'workspace M', 'mode main']
w = ['move-node-to-workspace W', 'workspace W', 'mode main']
b = ['move-node-to-workspace B', 'workspace B', 'mode main']
c = ['move-node-to-workspace C', 'workspace C', 'mode main']
x = ['move-node-to-workspace X', 'workspace X', 'mode main']
p = ['move-node-to-workspace P', 'workspace P', 'mode main']
s = ['move-node-to-workspace S', 'workspace S', 'mode main']
g = ['move-node-to-workspace G', 'workspace G', 'mode main']
v = ['move-node-to-workspace V', 'workspace V', 'mode main']

# Exit resize mode
esc = 'mode main'
enter = 'mode main'

